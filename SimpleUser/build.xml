<project name="SimpleApp" default="war" basedir="." xmlns:artifact="antlibrg.apache.maven.artifact.ant">

	<!-- Properties needed-->
	<property name="mvn.home" value="" description="The home dir for your maven install" />
	<property name="tomcat.home" value="" description="The root directory of your tomcat server" />


	<property name="dir.root" value="WebContent" />
	<property name="dir.src" value="WEB-INF/classes" />
	<property name="dir.dest" value="WEB-INF/classes" />
	<property name="lib.dir" value="WEB-INF/lib" />

	<path id="lib-classpath">
      		<fileset dir="${dir.root}/${lib.dir}">
        		<include name="**/*.jar"/>
      		</fileset>
    	</path>


	<target name="clean" description="Removing the all generated files.">
		<delete>
		    <fileset dir="${dir.root}/${dir.dest}" includes="**/*.class"/>
		  </delete>
	</target>

	<target name="compile" depends="clean" description="Compilation of all source code.">
		<javac srcdir="${dir.root}/${dir.src}" destdir="${dir.root}/${dir.dest}">
			<classpath refid="lib-classpath"/>
		</javac>
	</target>

	<target name="war" depends="compile" description="make a war">
		<jar jarfile="${dir.dest}/simpleapp.war" basedir="${dir.build}" />
	</target>

</project>
